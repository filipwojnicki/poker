<div ng-controller="listTablesController">

	<div class="panel panel-default">
		<div class="panel-heading text-left vcenter">
			<h1 style="font-size: 28px;">Lista stołów do gry</h1>
		</div>
		<div class="panel-body text-right">
	
			<!-- Uruchomienie okna dialogowego typu modal -->
			<button type="button" class="btn btn-default" data-toggle="modal" data-target="#createTableModal">Stwórz stół</button>

			<!-- Przeładowanie możliwych stołów do gry -->
			<button class="btn btn-default" ng-click="getTables()">Odśwież stoły</button>
			
		</div>
	</div>

	<table class="table table-striped table-responsive table-hover table-condensed">
		<thead>
			<tr>
				<th>Nazwa stołu</th>
				<th>Wybierz</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="table in tables">
				<td class="text-center">
					<b class="vcenter">{{ table.table_name }}</b>
				</td>
				<td class="text-left vcenter">
					<a href="php/joinGame.php?id={{ table.id }}&token={{ table.game_token }}" class="btn btn-default">Wejdź do gry</a>
				</td>
			</tr>
			{{ tableerrormsg }}
		</tbody>
	</table>

	<!-- Bootstrap Modal -->
	<div id="createTableModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- zawartość okna dialogowego -->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h4 class="modal-title">Stwórz stół</h4>
	      </div>
	      <div class="modal-body" style="padding-bottom: 40px">
	        <form ng-submit="createTable()"><!-- action="php/createTable.php" method="post">-->
	        	<div class="form-group">
	        		<label for="table_name">Nazwa stołu: </label>
	        		<input type="text" class="form-control" id="table_name" name="table_name" ng-value="test" ng-model="table_name" ng-maxlength="30" maxlenght="30" required />
	        		<button class="btn btn-primary" style="float: right; margin-top: 10px;">Stwórz</button>
	        		<p class="text-left" style="float: left; margin-top: 10px;">{{ message }}</p>
	       		</div>
	        </form>
	      </div>
	    </div>
	  </div>
	</div>
</div>
